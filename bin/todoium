#!/usr/bin/env bash

# set varibles
version="v1.0"
progname="`basename $0`"

# manually change this path if you want to use your own folder
tododir="$HOME/.todo/"

# make sure $tododir exists
if [ ! -d $tododir ]; then
	echo -n "Warning: $tododir Does Not Exist, Making it For You ... "
	mkdir $tododir
	echo "done"
fi

todohelp() {
	echo "\
Todoium $version - GPL v3
Usage: $progname [-hltp] [todo]\
"
}

todotree() {
	local treevar="`tree $tododir`"
	local treevar="`echo "$treevar" | sed -e "s/files/todos/g" -`"
	local treevar="`echo "$treevar" | sed -e "s/directory/sub-folders/g" -`"
	echo "$treevar"
}

# handle options and file creation
# if nothing is typed show the help
if [[ $1 == "" ]]; then
	todohelp
# use `todoium -h` to show help
elif [[ $1 == -h ]]; then
	todohelp
# use `todoium -l` to list your todos
elif [[ $1 == -l ]]; then
	echo "`ls $tododir`"
# use `todoium -t` to list your todos in a tree
elif [[ $1 == -t ]]; then
	todotree
# use `todoium -p` to echo where the todos are being stored
elif [[ $1 == -p ]]; then
	echo $tododir
# if no options is specified then use $1 to create file 
else
	touch $tododir$1
fi

